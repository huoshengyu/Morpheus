<launch>
    <arg name="robot_file"/>
    <arg name="robot_name" default="$(arg robot_file)"/>
    <arg name="world_pose" default="-x -0.1 -y 0.5 -z 0.6 -R 0 -P 0 -Y 0" doc="Pose to spawn the robot at"/>

    <group ns="spawn_$(arg robot_name)">

        <!-- send table urdf to param server -->
        <param name="robot_description" command="xacro '$(find morpheus_teleop)/urdf/scenes/$(arg robot_file).xacro'" />

        <!-- push table_description to factory and spawn robot in gazebo -->
        <node name="spawn_$(arg robot_name)" pkg="gazebo_ros" type="spawn_model" 
            args="-urdf -param robot_description -model $(arg robot_name)_model $(arg world_pose)" 
            respawn="false" output="screen" />
    </group>
</launch>